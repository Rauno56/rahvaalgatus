
<div class="home-hero clearfix">
    	<div class="box clearfix">
            <div class="right">                
                <div >
            	<h2 translate="LINK_DISCUSSION" style="width:400px;">Tere tulemast Rahvaalgatus!</h2>
                <p translate="DISCUSSION_CONTENT">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean interdum turpis at leo placerat consectetur. Praesent fermentum, lacus at rhoncus efficitur, risus nulla tincidunt purus, eget ultricies odio odio id quam. Integer sem augue, elementum vitae aliquam vel.</p>
                </div>
            </div>
        </div>
    	<div class="box clearfix bg">
        	<div class="left">
            	<ul class="h-list">
                    <li><a href="#" class="active" ui-sref="topics.create1" ui-sref-opts="{reload: true}" translate="BTN_NEW_TOPIC" >LOO ISE ALGATUS VÃ•I ARUTELU</a></li>
                </ul>
            </div>
        </div>
</div><!--hero part end-->
<div ng-controller="HomeCtrl">
    <!--Discussions part-->
    <div class="article-bg">
    	<div class="enclose">
        	<!--articles-->
        	<div class="article-box" ng-if="!filters.statuses.value || filters.statuses.value == 'inProgress'" ng-show="discussiontopicList.length > 0">
                    <div class="clearfix">
                        <div class="left">
                            <h3 translate="DISCUSSIONS_LIST">ARUTELUDE LOEND</h3>
                            <div class="clearfix">
                                <ul class="article-pagi clearfix" ng-show="rangediscussiontopicList.length > 1">
                                    <li><a ng-show="filters.discussion_offset==0" class="disable" ><img src="images/pagi-left.png" alt="Image" /></a>
                                    <a ng-show="filters.discussion_offset>0"><img src="images/pagi-left.png" alt="Image" ng-click="setPage('inProgress',(filters.discussion_offset/filters.limit)-1);"/></a></li>                                    
                                    <li>
                                        <a ng-show="(filters.discussion_offset/filters.limit) > 1"  ng-click="setPage('inProgress',0);">{{1}}</a>
                                    </li>
                                    <li ng-show="(filters.discussion_offset/filters.limit) > 2">...</li>
                                    <li data-ng-repeat="i in rangediscussiontopicList.slice(0,myCount) track by $index">
                                        <a ng-show="((filters.discussion_offset/filters.limit)== $index  || (filters.discussion_offset/filters.limit)+1== $index || (filters.discussion_offset/filters.limit)-1== $index )" ng-if="((filters.discussion_offset/filters.limit)) == $index" class="disable">{{$index+1}}</a>
                                        <a ng-show="((filters.discussion_offset/filters.limit)== $index  || (filters.discussion_offset/filters.limit)+1== $index || (filters.discussion_offset/filters.limit)-1== $index)" ng-if="((filters.discussion_offset/filters.limit)) != $index" ng-click="setPage('inProgress',$index);">{{$index+1}}</a>
                                    </li>   
                                    <li ng-show="(filters.discussion_offset/filters.limit) < (rangediscussiontopicList.length-3)">...</li>
                                    <li>
                                        <a ng-show="(filters.discussion_offset/filters.limit) < (rangediscussiontopicList.length-2)"  ng-click="setPage('inProgress',rangediscussiontopicList.length-1);">{{rangediscussiontopicList.length}}</a>
                                    </li> 
                                    <li>
                                        <a href="#" ng-show="((filters.discussion_offset/filters.limit)+1) != rangediscussiontopicList.length" ng-click="setPage('inProgress',(filters.discussion_offset/filters.limit)+1);"><img src="images/pagi-right.png" alt="Image" /></a>
                                        <a href="#" ng-show="((filters.discussion_offset/filters.limit)+1) == rangediscussiontopicList.length" class="disable"><img  src="images/pagi-right.png" alt="Image" /></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="right">
                            <div class="clearfix articles">
                                <div class="in" ui-sref="topics.view({id: topic.id})" ng-repeat="topic in discussiontopicList" ng-class="getCategoryTheme(topic.categories[0])">
                                    <p class="date" data-topic="{{topic}}">{{topic.createdAt | amDateFormat : 'L'}}</p>
                                    <p class="link"><a href="#">{{topic.title}}</a></p>
                                    <p class="author">{{topic.creator.name}}</p>
                                    <div class="bar" ><p class="" ng-class="{progress:topic.endsAt !=null && ((topic.endsAt | amDifference : today : 'days' )>=0), finished:(topic.endsAt ==null || ((topic.endsAt | amDifference : today : 'days' )<0))}"  ng-style="::getProgress(topic)"></p><span ng-if="topic.endsAt !=null && ((topic.endsAt | amDifference : today : 'days' )>=0)">{{'TXT_DEADLINE_CALENDAR_DAYS_LEFT' | translate: topic}}</span><span class="discussion-finished" ng-if ="topic.endsAt ==null || ((topic.endsAt | amDifference : today : 'days' )<0)" translate="DISCUSSION_FINISHED"></span></div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            <!--articles end-->      	
        </div><!--enclose end-->
    </div><!--Discussions end-->

<script>
         var maxheight = 0;
        $(function(){
            
            $(".article-box .right .in .link").each(function(){
                if($(this).height()>maxheight){ 
                    maxheight =$(this).height();
                    $(".article-box .right .in .link").css("height",maxheight);
                }
            });
        });
    </script>
</div>
