extends ../layout

block options
	- var title = t("SUPPORT_US_TITLE")
	- var page = "donate"

block body
	- var Config = require("root/config")
	- var pseudoInt = require("root/lib/crypto").pseudoInt
	- var amount = 3 + pseudoInt(7)

	section.primary-section
		center.text-section
			h1= t("SUPPORT_US_TITLE")
			p= t("SUPPORT_US_CONTENT")

		center
			form(method="GET", action=Config.maksekeskusUrl)
				input(type="hidden", name="shopId", value=Config.maksekeskusId)
				input(type="hidden", name="paymentId", value="donation-" + amount)

				h2= t("SUPPORT_LABEL")

				label.amount-input
					input.form-input(
						type="numeric",
						name="amount",
						value=amount,
						required)

				button.form-submit.secondary-button= t("SUPPORT_BUTTON")

				label.form-checkbox.tos-checkbox
					input(type="checkbox", name="accept-tos", required)
					!= t("I_HAVE_READ", {url: "/about#tos"})

				p.text= t("SUPPORT_REDIRECT")
