include /_mixins

mixin donate-form(reference, amount)
	-
		var pseudoInt = require("root/lib/crypto").pseudoInt
		if (amount == null) amount = 3 + pseudoInt(7)

	+form.donate-form(method="POST", action="/donation")
		input(type="hidden", name="default", value=amount)

		h2= t("SUPPORT_LABEL")

		label.amount-input
			input.form-input(type="numeric", name="amount", value=amount, required)

		button.form-submit.secondary-button= t("SUPPORT_BUTTON")

		label.form-checkbox.tos-checkbox
			input(type="checkbox", name="accept-tos", required)
			!= t("I_HAVE_READ", {url: "/about#tos"})

		p.text= t("SUPPORT_REDIRECT")
